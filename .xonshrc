# general shit
if $HOSTNAME == "riley-laptop":
	$PROMPT = '{RED} <3 {RESET}| {BOLD_GREEN}{cwd_base}{RESET} ) '
elif $HOSTNAME == "riley-server":
	$PROMPT = '{RED} <> {RESET}| {BOLD_GREEN}{cwd_base}{RESET} ) '
elif $HOSTNAME == "riley-desktop":
	$PROMPT = '{RED} >< {RESET}| {BOLD_GREEN}{cwd_base}{RESET} ) '
$XONSH_COLOR_STYLE = 'default'
xontrib load argcomplete autovox jedi z bashisms

source "~/xsh/functions.xsh"
source "~/xsh/exceptions.xsh"
source "~/xsh/aliases.xsh"

# TODO: Fix with Arch-based distros
# import addins # my extra stuffs :p

# Windows Subsystem for Linux stuff
if in_wsl():
	$GPG_TTY=$(tty)  # allows gpg to work inside WSL

# path stuff
append_path("~/addins")
append_path("~/.local/bin")
append_path("~/bin")
append_path("~/go/bin")

if in_win():
	append_path("F:/programs/installed/micro")
	xontrib load ps1

# tmux
try:
	requires("tmux")
	if $TERM != 'tmux-256color':
		folder = p'.'
		tmux -2 new-session -A -s @(folder.resolve().name)
		exit
except CommandNotFoundException:
	pass

# man page colors :O
$LESS_TERMCAP_mb = "\033[01;31m"     # begin blinking
$LESS_TERMCAP_md = "\033[01;31m"     # begin bold
$LESS_TERMCAP_me = "\033[0m"         # end mode
$LESS_TERMCAP_so = "\033[01;44;36m"  # begin standout-mode (bottom of screen)
$LESS_TERMCAP_se = "\033[0m"         # end standout-mode

load_aliases()
